% Semiconductor Process Flow Template

\usepackage[margin=1cm, top=1.5cm, bottom=1.2cm]{geometry}
\usepackage{fancyhdr}
\usepackage{lastpage}
\usepackage{tabularray}
\UseTblrLibrary{booktabs}
\usepackage[table]{xcolor}
\usepackage{graphicx}
\usepackage{siunitx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{tikz}
\usetikzlibrary{positioning, arrows.meta}
\usepackage[T1]{fontenc}
\usepackage{mlmodern}
%\usepackage{fontspec}
\usepackage{microtype}

% Custom metadata commands with default values
\newcommand{\processflowtitle}{Semiconductor Fabrication Process}
\newcommand{\revision}{Rev 0.0}
\newcommand{\contactemail}{email@example.com}
\newcommand{\contactname}{Name}
\newcommand{\contactphone}{Phone}
\newcommand{\labmanagergroup}{Group}
\newcommand{\batchname}{Batch}
\newcommand{\datecreation}{YYYY-MM-DD}
\newcommand{\daterevision}{YYYY-MM-DD}

% Footer setup
\pagestyle{fancy}
\fancyhf{}
\renewcommand{\headrulewidth}{0pt}
\fancyfoot[L]{\footnotesize Not confidential}
\fancyfoot[C]{\footnotesize File name: \processflowtitle}
\fancyfoot[R]{\footnotesize Page \thepage\ of \pageref{LastPage}}
\renewcommand{\footrulewidth}{0.4pt}

% Title block command using tabularray
\newcommand{\titleblock}{%
    \centering
    \large
    \begin{tblr}{
        width = \textwidth,
        colspec = {X[1.5,l] X[5,l] X[1.5,l] X[5,l]},
        row{1} = {font=\bfseries},
        row{2} = {abovesep=3pt, belowsep=3pt},
        row{3} = {abovesep=3pt, belowsep=3pt},
        cell{1}{1,3} = {font=\bfseries},
        hlines = {0.5pt, white}, % Hidden lines for alignment
        vlines = {0.5pt, white}, % Hidden lines for alignment
        rowsep = 4pt,
        colsep = 8pt,
    }
        Process flow title: & \processflowtitle & Revision: & \revision \\
        Contact email: & \contactemail & Contact name: & \contactname \\
        Contact phone: & \contactphone &  &  \\
        LabManager group: & \labmanagergroup & Batch name: & \batchname \\
        Date of creation: & \datecreation & Date of revision: & \daterevision \\
    \end{tblr}
    \vspace{1em}
    \hrule height 1pt
    \vspace{2em}
}